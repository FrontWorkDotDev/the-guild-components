import { RemoteContent, Steps } from '@theguild/components'
import { compileMdx } from '@theguild/components/nextra'
import componentsPkgJson from '@theguild/components/package.json'
import pkgJson from '../../package.json'

# Getting Started

<Steps>
## Install

```sh npm2yarn
npm install @theguild/components
npm install -D @theguild/tailwind-config
```

## Add dependencies

export async function Dependencies() {
  const dependencies = Object.fromEntries([
    ['@theguild/components', componentsPkgJson.version],
    ...Object.entries(pkgJson.dependencies).filter(([key]) =>
      ['next', 'react', 'react-dom'].includes(key)
    )
  ])
  const { result } = await compileMdx(
    [
      // Render code block with current version of dependencies
      '```json filename="package.json" {14,20}',
      JSON.stringify(
        {
          ...pkgJson,
          dependencies,
          devDependencies: pkgJson.devDependencies,
          nextBundleAnalysis: undefined
        },
        null,
        2
      ),
      '```'
    ].join('\n'),
    { defaultShowCopyCode: true }
  )
  return <RemoteContent compiledSource={result} />
}

<Dependencies />

## Add Tailwind CSS config

```ts filename="tailwind.config.ts"
export { default } from '@theguild/tailwind-config'
```

## Add PostCSS config

```js filename="postcss.config.cjs"
module.exports = require('@theguild/tailwind-config/postcss.config')
```

## Add theme config

```ts filename="theme.config.tsx"
import { defineConfig } from '@theguild/components'

export default defineConfig({
  // Your theme
})
```

## Use `withGuildDocs` in your Next.js config

```js filename="next.config.mjs" /withGuildDocs/
import { withGuildDocs } from '@theguild/components/next.config'

export default withGuildDocs({
  // Your next config options, for example:
  eslint: {
    ignoreDuringBuilds: true
  }
})
```

## Import styles in `_app.tsx`

```tsx filename="src/pages/_app.tsx" {3}
import { ReactElement } from 'react'
import { AppProps } from 'next/app'
import '@theguild/components/style.css'

export default function App({ Component, pageProps }: AppProps): ReactElement {
  return <Component {...pageProps} />
}
```

</Steps>

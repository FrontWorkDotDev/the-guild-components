import { RemoteContent, Steps } from '@theguild/components'
import { defaultNextraOptions } from '@theguild/components/next.config'
import componentsPkgJson from '@theguild/components/package.json'
import { compileMdx } from '@theguild/components/server'
import pkgJson from '../../package.json'

# Getting Started

<Steps>
## Install

```sh npm2yarn
npm install @theguild/components
npm install -D @theguild/tailwind-config
```

## Add dependencies

export async function Dependencies() {
  const dependencies = Object.fromEntries([
    ['@theguild/components', componentsPkgJson.version],
    ...Object.entries(pkgJson.dependencies).filter(([key]) =>
      ['next', 'react', 'react-dom'].includes(key)
    )
  ])
  const { result } = await compileMdx(
    [
      // Render code block with current version of dependencies
      '```json filename="package.json" {14,20}',
      JSON.stringify(
        {
          ...pkgJson,
          dependencies,
          devDependencies: pkgJson.devDependencies,
          nextBundleAnalysis: undefined
        },
        null,
        2
      ),
      '```'
    ].join('\n'),
    defaultNextraOptions
  )
  return <RemoteContent compiledSource={result} />
}

<Dependencies />

## Add Tailwind CSS config

```ts filename="tailwind.config.ts"
export { default } from '@theguild/tailwind-config'
```

## Add PostCSS config

```js filename="postcss.config.js"
import { default } from '@theguild/tailwind-config/postcss.config'
```

## Add `mdx-components.tsx` in root directory

```ts filename="mdx-components.tsx"
export { useMDXComponents } from '@theguild/components'
```

## Use `withGuildDocs` in your Next.js config

```js filename="next.config.mjs" /withGuildDocs/
import { withGuildDocs } from '@theguild/components/next.config'

export default withGuildDocs({
  // Your next config options, for example:
  eslint: {
    ignoreDuringBuilds: true
  }
})
```

## Import styles in root `layout.tsx`

```tsx filename="src/pages/_app.tsx" {3}
import '@theguild/components/style.css'
```

</Steps>
